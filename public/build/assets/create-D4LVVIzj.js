import{r as l,j as e,H as k,F as y}from"./app-CfwVkj5L.js";import{I as d}from"./input-error-C0YZwkmn.js";import{B as g}from"./createLucideIcon-BtnYtnyY.js";import{C as I}from"./card-BAgTR0AC.js";import{L as t,I as r}from"./label-MxGUpPjz.js";import{C as m}from"./checkbox-DNRKfNhI.js";import{T as w,a as B,b as v,c as f,E as L}from"./editor-DSlR751v.js";import{I as $}from"./image-selector-CyyQpEh1.js";import{A as z}from"./app-layout-JBCHDL1g.js";/* empty css            */import"./index-BnsAqhoo.js";import"./index-DA6FCkor.js";import"./index-6Uc-z3to.js";import"./index-BaNsMD3W.js";import"./index-Tf-STy7O.js";import"./dialog-CZqgt4tZ.js";import"./x-Di3_7RI2.js";import"./loading-spinner-BEpYPrA1.js";import"./loader-circle-4D1Jgsuf.js";import"./send-DpDbGVPu.js";import"./youtube-CG8_-Y_s.js";import"./textarea-BJXVrJWR.js";import"./separator-C0_npW0k.js";import"./house-DuIqNxF8.js";import"./index-C8dEbcgT.js";import"./app-logo-icon-BSg8D9zO.js";const A=[{title:"Dashboard",href:route("dashboard")},{title:"Bài viết",href:route("admin.posts.index")},{title:"Thêm",href:route("admin.posts.create")}],O={root:{children:[{children:[{detail:0,format:0,mode:"normal",style:"",text:"",type:"text",version:1}],direction:"ltr",format:"",indent:0,type:"paragraph",version:1}],direction:"ltr",format:"",indent:0,type:"root",version:1}};function me({categories:b}){const[n,c]=l.useState([]),[p,N]=l.useState(O),[x,S]=l.useState(!0),[u,C]=l.useState(!1),[j,_]=l.useState(""),[o,T]=l.useState(new Set);return e.jsxs(z,{breadcrumbs:A,children:[e.jsx(k,{title:"Thêm bài viết"}),e.jsx("div",{className:"p-4",children:e.jsx(I,{className:"p-6",children:e.jsx(y,{method:"post",action:route("admin.posts.store"),children:({errors:a,processing:E})=>e.jsxs("div",{className:"grid gap-4",children:[n.map((s,i)=>e.jsx("input",{type:"hidden",name:`category_ids[${i}]`,value:s},i)),e.jsx("input",{type:"hidden",name:"content",value:JSON.stringify(p)}),e.jsx("input",{type:"hidden",name:"is_active",value:x?"1":"0"}),e.jsx("input",{type:"hidden",name:"is_published",value:u?"1":"0"}),e.jsx("input",{type:"hidden",name:"thumbnail",value:j}),e.jsxs(w,{defaultValue:"general",className:"w-full",children:[e.jsxs(B,{className:"grid w-full grid-cols-2",children:[e.jsx(v,{value:"general",children:"Thông tin chung"}),e.jsx(v,{value:"seo",children:"Thẻ SEO"})]}),e.jsxs(f,{value:"general",className:"space-y-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(t,{htmlFor:"title",children:"Tiêu đề"}),e.jsx(r,{id:"title",name:"title",required:!0}),e.jsx(d,{message:a.title})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(t,{htmlFor:"slug",children:"Slug"}),e.jsx(r,{id:"slug",name:"slug"}),e.jsx(d,{message:a.slug})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(t,{children:"Chuyên mục"}),e.jsx("div",{className:"grid gap-2",children:b.map(s=>e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[s.children&&s.children.length>0&&e.jsx(g,{type:"button",variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:()=>{const i=new Set(o);i.has(s.id)?i.delete(s.id):i.add(s.id),T(i)},children:o.has(s.id)?"−":"+"}),e.jsx(m,{id:`category_${s.id}`,checked:n.includes(String(s.id)),onCheckedChange:i=>{c(i?[...n,String(s.id)]:n.filter(h=>h!==String(s.id)))}}),e.jsx(t,{htmlFor:`category_${s.id}`,children:s.name})]}),s.children&&s.children.length>0&&o.has(s.id)&&e.jsx("div",{className:"ml-12 space-y-1",children:s.children.map(i=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(m,{id:`category_${i.id}`,checked:n.includes(String(i.id)),onCheckedChange:h=>{c(h?[...n,String(i.id)]:n.filter(F=>F!==String(i.id)))}}),e.jsx(t,{htmlFor:`category_${i.id}`,children:i.name})]},i.id))})]},s.id))}),e.jsx(d,{message:a.category_ids})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx($,{value:j,onChange:_,label:"Ảnh đại diện",placeholder:"Chọn ảnh đại diện cho bài viết...",size:"large"}),e.jsx(d,{message:a.thumbnail})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(t,{children:"Nội dung"}),e.jsx(L,{editorSerializedState:p,onSerializedChange:s=>N(s)}),e.jsx(d,{message:a.content})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(t,{htmlFor:"excerpt",children:"Mô tả ngắn"}),e.jsx(r,{id:"excerpt",name:"excerpt"}),e.jsx(d,{message:a.excerpt})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(m,{id:"is_active",checked:x,onCheckedChange:s=>S(!!s)}),e.jsx(t,{htmlFor:"is_active",children:"Kích hoạt"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(m,{id:"is_published",checked:u,onCheckedChange:s=>C(!!s)}),e.jsx(t,{htmlFor:"is_published",children:"Xuất bản"})]})]}),e.jsxs(f,{value:"seo",className:"space-y-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(t,{htmlFor:"seo_title",children:"SEO Title"}),e.jsx(r,{id:"seo_title",name:"seo_title"}),e.jsx(d,{message:a.seo_title})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(t,{htmlFor:"seo_description",children:"SEO Description"}),e.jsx(r,{id:"seo_description",name:"seo_description"}),e.jsx(d,{message:a.seo_description})]})]})]}),e.jsx("div",{className:"flex gap-2",children:e.jsx(g,{type:"submit",disabled:E,children:"Lưu"})})]})})})})]})}export{me as default,O as initialValue};

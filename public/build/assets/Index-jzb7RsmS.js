import{j as a,L as s}from"./app-ipanO3bs.js";import{C,a as M}from"./card-lbV046wG.js";import{B as v}from"./badge-x29PxCHC.js";import{B as N}from"./createLucideIcon-BjNgcmH3.js";import{M as f,S as w}from"./MainLayout-C_LQLokV.js";import{A as k,a as B,b as D,c as A}from"./accordion-DtTBygZS.js";import{H as S}from"./house-JbE_ogcn.js";import{A as I}from"./arrow-right-BUq33578.js";/* empty css            */import"./youtube-tgcJ6Xkw.js";import"./x-BFvKxWSQ.js";import"./index-BTc9p8Wi.js";import"./index-1i8cz37G.js";import"./index-BPJHy-wm.js";function Q({posts:n,categories:c,featuredPosts:T,filters:t,menus:u,settings:p,slides:j,error:y}){const d=c.filter(e=>!e.parent_id),$=c.filter(e=>e.parent_id),m=e=>$.filter(r=>r.parent_id===e),o=e=>typeof document<"u"?`${(document.querySelector('meta[name="asset-base"]')?.content||"/").replace(/\/$/,"")}/${e.replace(/^\//,"")}`:`/${e.replace(/^\//,"")}`,_=(e,r)=>{const l=[],b=[],g=Math.max(1,e-2),h=Math.min(r,e+2);for(let x=g;x<=h;x++)b.push(x);return g>2?l.push(1,"..."):g===2&&l.push(1),l.push(...b),h<r-1?l.push("...",r):h===r-1&&l.push(r),l};return y?a.jsxs(f,{menus:u,settings:p,slides:j,children:[a.jsx(w,{title:"Không tìm thấy - Trung tâm Tiếng Trung Toàn Diện",description:"Trang bạn tìm kiếm không tồn tại"}),a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-6xl font-bold text-gray-300 mb-4",children:"404"}),a.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-4",children:"Không tìm thấy trang"}),a.jsx("p",{className:"text-gray-600 mb-8",children:y}),a.jsx(s,{href:route("home"),children:a.jsx(N,{className:"bg-[#27a8e3] hover:bg-[#1f8bc7] text-white",children:"Về trang chủ"})})]})})]}):a.jsxs(f,{menus:u,settings:p,slides:j,children:[a.jsx(w,{title:t.category?`${c.find(e=>e.slug===t.category)?.name||c.flatMap(e=>e.children||[]).find(e=>e.slug===t.category)?.name||t.category} - Trung tâm Tiếng Trung Toàn Diện`:"Tin tức & Bài viết - Trung tâm Tiếng Trung Toàn Diện",description:t.category?`Các bài viết về ${c.find(e=>e.slug===t.category)?.name||c.flatMap(e=>e.children||[]).find(e=>e.slug===t.category)?.name||t.category}`:"Cập nhật những tin tức mới nhất về tiếng Trung và hoạt động của trung tâm"}),a.jsxs("div",{className:"relative bg-cover bg-center bg-no-repeat py-20 mt-16",style:{backgroundImage:`url(${o("banner-bg-2.png")})`},children:[a.jsx("div",{className:"absolute inset-0 bg-black/30"}),a.jsx("div",{className:"relative z-10 container mx-auto px-4",children:a.jsxs("div",{className:"text-center text-white",children:[a.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-4 text-sm",children:[a.jsxs(s,{href:route("home"),className:"flex items-center hover:text-[#27a8e3] transition-colors",children:[a.jsx(S,{className:"w-4 h-4 mr-1"}),"Trang chủ"]}),a.jsx("span",{children:"/"}),t.category?a.jsxs(a.Fragment,{children:[a.jsx(s,{href:route("posts.index"),className:"hover:text-[#27a8e3] transition-colors",children:"Tin tức & Bài viết"}),a.jsx("span",{children:"/"}),a.jsx("span",{className:"text-[#27a8e3]",children:c.find(e=>e.slug===t.category)?.name||c.flatMap(e=>e.children||[]).find(e=>e.slug===t.category)?.name||t.category})]}):a.jsx("span",{className:"text-[#27a8e3]",children:"Tin tức & Bài viết"})]}),a.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4 leading-tight",children:t.category?c.find(e=>e.slug===t.category)?.name||c.flatMap(e=>e.children||[]).find(e=>e.slug===t.category)?.name||t.category:"Tin tức & Bài viết"}),a.jsx("p",{className:"text-xl text-white/80 max-w-2xl mx-auto",children:t.category?`Các bài viết về ${c.find(e=>e.slug===t.category)?.name||c.flatMap(e=>e.children||[]).find(e=>e.slug===t.category)?.name||t.category}`:"Cập nhật những tin tức mới nhất về tiếng Trung và hoạt động của trung tâm"})]})})]}),a.jsx("div",{className:"bg-gray-50",children:a.jsx("div",{className:"container mx-auto px-4 py-12",children:a.jsxs("div",{className:"grid lg:grid-cols-4 gap-8",children:[a.jsx("div",{className:"lg:col-span-1",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 sticky top-4",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Danh mục"}),a.jsx("div",{className:"mb-4",children:a.jsx(s,{href:route("posts.index"),className:`block px-3 py-2 rounded-md transition-colors ${t.category?"text-gray-700 hover:bg-gray-100":"bg-[#27a8e3] text-white"}`,children:"Tất cả bài viết"})}),a.jsx(k,{type:"single",collapsible:!0,className:"w-full",defaultValue:t.category&&d.find(e=>e.slug===t.category||m(e.id).some(r=>r.slug===t.category))?.id?`category-${d.find(e=>e.slug===t.category||m(e.id).some(r=>r.slug===t.category))?.id}`:void 0,children:d.map(e=>{const r=m(e.id);return t.category===e.slug||r.some(i=>i.slug===t.category),a.jsxs(B,{value:`category-${e.id}`,children:[a.jsx(D,{className:"text-left hover:no-underline",children:a.jsx("div",{className:"flex items-center justify-between w-full",children:a.jsx(s,{href:`/${e.slug}`,className:`flex-1 text-left ${t.category===e.slug?"text-[#27a8e3] font-semibold":"text-gray-700"}`,onClick:i=>i.stopPropagation(),children:e.name})})}),r.length>0&&a.jsx(A,{children:a.jsx("div",{className:"space-y-1 pl-4",children:r.map(i=>a.jsx(s,{href:`/${i.slug}`,className:`block px-3 py-2 rounded-md transition-colors text-sm ${t.category===i.slug?"bg-[#27a8e3] text-white":"text-gray-600 hover:bg-gray-100"}`,children:i.name},i.id))})})]},e.id)})}),a.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200",children:[a.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Bài viết nổi bật"}),a.jsx("div",{className:"space-y-4",children:T.map(e=>a.jsxs("div",{className:"flex space-x-3",children:[a.jsx("div",{className:"w-16 h-12 flex-shrink-0 overflow-hidden rounded",children:a.jsx(s,{href:route("posts.show",e.slug),children:a.jsx("img",{src:e.thumbnail?decodeURIComponent(e.thumbnail.replace(/&#37;/g,"%")):o("placeholder.jpg"),alt:e.title,className:"w-full h-full object-cover transition-transform duration-300 hover:scale-110 cursor-pointer",onError:r=>{r.currentTarget.src=o("placeholder.jpg")}})})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx(v,{variant:"secondary",className:"mb-1 text-xs",children:e.categories&&e.categories.length>0?e.categories[0].name:"Không phân loại"}),a.jsx("h5",{className:"text-sm font-semibold line-clamp-2 mb-1",children:a.jsx(s,{href:route("posts.show",e.slug),className:"hover:text-[#27a8e3] transition-colors",children:e.title})}),a.jsx("div",{className:"text-xs text-gray-500",children:new Date(e.published_at).toLocaleDateString("vi-VN")})]})]},e.id))})]})]})}),a.jsxs("div",{className:"lg:col-span-3",children:[a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.data.map(e=>a.jsxs(C,{className:"overflow-hidden hover:shadow-lg transition-shadow",children:[a.jsx("div",{className:"h-48 overflow-hidden",children:a.jsx(s,{href:route("posts.show",e.slug),children:a.jsx("img",{src:e.thumbnail?decodeURIComponent(e.thumbnail.replace(/&#37;/g,"%")):o("placeholder.jpg"),alt:e.title,className:"w-full h-full object-cover transition-transform duration-500 hover:scale-110 cursor-pointer",onError:r=>{r.currentTarget.src=o("placeholder.jpg")}})})}),a.jsxs(M,{className:"p-6",children:[a.jsx(v,{variant:"secondary",className:"mb-3",children:e.categories&&e.categories.length>0?e.categories[0].name:"Không phân loại"}),a.jsx("h3",{className:"text-xl font-semibold mb-3 line-clamp-2",children:a.jsx(s,{href:route("posts.show",e.slug),className:"hover:text-[#27a8e3] transition-colors",children:e.title})}),a.jsx("p",{className:"text-gray-600 mb-4 line-clamp-3",children:a.jsx("span",{dangerouslySetInnerHTML:{__html:e.excerpt}})}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"text-sm text-gray-500",children:new Date(e.published_at).toLocaleDateString("vi-VN")}),a.jsx(s,{href:route("posts.show",e.slug),children:a.jsxs(N,{variant:"outline",size:"sm",className:"border-[#27a8e3] text-[#27a8e3] hover:bg-[#27a8e3] hover:text-white",children:["Đọc thêm",a.jsx(I,{className:"ml-1 h-3 w-3"})]})})]})]})]},e.id))}),n.last_page>1&&a.jsx("div",{className:"mt-12 flex justify-center",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(s,{href:t.category?`/${t.category}?page=${Math.max(1,n.current_page-1)}`:route("posts.index",{page:Math.max(1,n.current_page-1)}),className:`px-3 py-2 rounded-md border ${n.current_page===1?"pointer-events-none opacity-50":"bg-white text-gray-700 hover:bg-gray-100"}`,children:"Trước"}),_(n.current_page,n.last_page).map((e,r)=>e==="..."?a.jsx("span",{className:"px-2 text-gray-500",children:"…"},`e-${r}`):a.jsx(s,{href:t.category?`/${t.category}?page=${e}`:route("posts.index",{page:e}),className:`px-3 py-2 rounded-md transition-colors ${e===n.current_page?"bg-[#27a8e3] text-white":"bg-white text-gray-700 hover:bg-gray-100 border"}`,children:e},e)),a.jsx(s,{href:t.category?`/${t.category}?page=${Math.min(n.last_page,n.current_page+1)}`:route("posts.index",{page:Math.min(n.last_page,n.current_page+1)}),className:`px-3 py-2 rounded-md border ${n.current_page===n.last_page?"pointer-events-none opacity-50":"bg-white text-gray-700 hover:bg-gray-100"}`,children:"Sau"})]})})]})]})})})]})}export{Q as default};
